#
# Dictation Module Configuration
# Customized for: Sidhant's Manjaro + XFCE + X11 System
#
# This file is sourced by dictation-toggle.sh and provides
# user-configurable settings for the dictation module.
#

# === WHISPER MODEL CONFIGURATION ===

# Model to use for speech recognition
# Options: tiny.en, base.en, small.en, medium.en
# Recommendation: base.en (balanced speed and accuracy)
# Note: First run will download the model (~145MB for base.en)
WHISPER_MODEL="base.en"

# Device to run inference on
# Options: cpu, cuda (requires NVIDIA GPU)
WHISPER_DEVICE="cpu"

# Compute precision (affects speed vs accuracy)
# Options: int8, int16, float16, float32
# Recommendation: int8 (fastest for CPU)
WHISPER_COMPUTE_TYPE="int8"

# === AUDIO INPUT CONFIGURATION ===

# Audio input device (leave empty for system default)
# To list devices: python3 -c "import sounddevice as sd; print(sd.query_devices())"
# Options:
#   "" (empty) = Use system default (recommended)
#   "2" = Specific device index
#   "Blue Microphones" = Device name (partial match)
AUDIO_DEVICE=""

# Sample rate (Hz) - 16000 is optimal for Whisper
SAMPLE_RATE=16000

# Number of audio channels (1=mono, 2=stereo)
CHANNELS=1

# === TEXT PASTING CONFIGURATION ===

# Method for pasting transcribed text
# Options: xdotool, clipboard, both
# Recommendation: xdotool (direct typing for X11)
PASTE_METHOD="xdotool"

# Typing speed (milliseconds between keystrokes)
# Lower = faster, Higher = more reliable for slow apps
TYPING_DELAY=12

# Clear modifier keys before typing (prevents stuck keys)
CLEAR_MODIFIERS=true

# === TEXT PROCESSING ===

# Strip leading/trailing whitespace
STRIP_LEADING_SPACE=true
STRIP_TRAILING_SPACE=true

# Capitalize first letter of transcription
AUTO_CAPITALIZE=false

# Keep Whisper's punctuation
AUTO_PUNCTUATION=true

# Text replacements (format: "pattern1:replacement1,pattern2:replacement2")
# Example: "umm:,uh:,you know:" (removes filler words)
TEXT_REPLACEMENTS=""

# === NOTIFICATIONS ===

# Enable desktop notifications
ENABLE_NOTIFICATIONS=true

# Notification tool (notify-send is standard on XFCE)
NOTIFICATION_TOOL="notify-send"

# Notification urgency: low, normal, critical
NOTIFICATION_URGENCY="normal"

# Notification timeout (milliseconds, 0=default)
NOTIFICATION_TIMEOUT=3000

# Show transcribed text in completion notification
SHOW_TRANSCRIPTION_IN_NOTIFICATION=true

# === FILE MANAGEMENT ===

# Temporary directory for audio files
TEMP_DIR="/tmp/dictation"

# Keep audio files after transcription (for debugging)
KEEP_TEMP_FILES=false

# Lock file location (tracks recording state)
LOCK_FILE="/tmp/dictation.lock"

# === LOGGING (OPTIONAL) ===

# Log file location (leave empty to disable logging)
LOG_FILE=""
# Example: LOG_FILE="$HOME/.local/share/dictation/dictation.log"

# Log level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL="INFO"

# === ADVANCED WHISPER SETTINGS ===

# Language hint (helps with accuracy)
WHISPER_LANGUAGE="en"

# Voice Activity Detection (removes silence)
WHISPER_VAD_FILTER=true

# Initial prompt (provides context to Whisper)
# Example: "Technical documentation about Linux systems."
WHISPER_INITIAL_PROMPT=""

# Beam size (higher = more accurate but slower)
WHISPER_BEAM_SIZE=5

# Temperature (0.0 = deterministic, higher = more random)
WHISPER_TEMPERATURE=0.0

# === PERFORMANCE TUNING ===

# If base.en is too slow, uncomment this to use tiny.en:
# WHISPER_MODEL="tiny.en"

# For debugging, keep temporary files:
# KEEP_TEMP_FILES=true
# LOG_FILE="$HOME/.local/share/dictation/dictation.log"
# LOG_LEVEL="DEBUG"

